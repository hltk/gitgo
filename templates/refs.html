{{template "header.html" . -}}
<div id="refs">
<div style="display: flex; gap: 2rem; align-items: flex-start;">
<div style="flex: 1; min-width: 0;">
<h2>Branches</h2>
{{if .Branches -}}
<table>
<thead>
<tr>
<th class="left">Name</th>
<th class="left">Commit</th>
<th class="left">Log</th>
</tr>
</thead>
<tbody>
{{range .Branches -}}
<tr>
<td class="left">{{.Name -}}</td>
<td class="left"><code>{{.CommitHash -}}</code></td>
<td class="left"><a href="/{{$.GlobalData.Config.RepoName -}}{{.LogLink -}}">log</a></td>
</tr>
{{end -}}
</tbody>
</table>
{{else -}}
<p>No branches found.</p>
{{end -}}

<h2>Tags</h2>
{{if .Tags -}}
<table>
<thead>
<tr>
<th class="left">Name</th>
<th class="left">Commit</th>
</tr>
</thead>
<tbody>
{{range .Tags -}}
<tr>
<td class="left">{{.Name -}}</td>
<td class="left"><code>{{.CommitHash -}}</code></td>
</tr>
{{end -}}
</tbody>
</table>
{{else -}}
<p>No tags found.</p>
{{end -}}
</div>

<div id="cloneurl" style="flex-shrink: 0; width: 400px;">
<h3>Clone</h3>
<div class="clone-box">
<code class="clone-url">git clone git://{{.GlobalData.Config.GitUrl}}/{{.GlobalData.Config.RepoName}}</code>
<button class="copy-btn" onclick="copyCloneUrl(this)">Copy</button>
</div>
<script>
function copyCloneUrl(btn) {
    const url = "git clone git://{{.GlobalData.Config.GitUrl}}/{{.GlobalData.Config.RepoName}}";
    navigator.clipboard.writeText(url).then(() => {
        btn.textContent = 'Copied!';
        btn.style.color = '#28a745';
        setTimeout(() => {
            btn.textContent = 'Copy';
            btn.style.color = '';
        }, 2000);
    });
}
</script>
</div>
</div>
</div>
{{template "footer.html" . -}}

